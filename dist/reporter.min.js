var reporter=function(){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};var e=function(){return(e=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function n(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))}function r(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var a,s,c=function(){return(c=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function u(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(u(arguments[e]));return t}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function f(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */!function(t){t.Fatal="fatal",t.Error="error",t.Warning="warning",t.Log="log",t.Info="info",t.Debug="debug",t.Critical="critical"}(a||(a={})),function(t){t.fromString=function(e){switch(e){case"debug":return t.Debug;case"info":return t.Info;case"warn":case"warning":return t.Warning;case"error":return t.Error;case"fatal":return t.Fatal;case"critical":return t.Critical;case"log":default:return t.Log}}}(a||(a={})),function(t){t.Unknown="unknown",t.Skipped="skipped",t.Success="success",t.RateLimit="rate_limit",t.Invalid="invalid",t.Failed="failed"}(s||(s={})),function(t){t.fromHttpCode=function(e){return e>=200&&e<300?t.Success:429===e?t.RateLimit:e>=400&&e<500?t.Invalid:e>=500?t.Failed:t.Unknown}}(s||(s={}));var h=function(){return(h=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function d(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var _=function(t,e){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var y=function(){return(y=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};var g=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){return t.__proto__=e,t}:function(t,e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n]);return t});var m=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return r.message=e,r.name=n.prototype.constructor.name,g(r,n.prototype),r}return function(t,e){function n(){this.constructor=t}_(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(Error);function b(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return R(t,Error)}}function E(t){return"[object ErrorEvent]"===Object.prototype.toString.call(t)}function w(t){return"[object DOMError]"===Object.prototype.toString.call(t)}function x(t){return"[object String]"===Object.prototype.toString.call(t)}function S(t){return null===t||"object"!=typeof t&&"function"!=typeof t}function k(t){return"[object Object]"===Object.prototype.toString.call(t)}function O(t){return"undefined"!=typeof Event&&R(t,Event)}function T(t){return"undefined"!=typeof Element&&R(t,Element)}function j(t){return Boolean(t&&t.then&&"function"==typeof t.then)}function R(t,e){try{return t instanceof e}catch(t){return!1}}function I(t,e){return void 0===e&&(e=0),"string"!=typeof t||0===e||t.length<=e?t:t.substr(0,e)+"..."}function P(t,e){if(!Array.isArray(t))return"";for(var n=[],r=0;r<t.length;r++){var o=t[r];try{n.push(String(o))}catch(t){n.push("[value cannot be serialized]")}}return n.join(e)}function U(t,e){return!!x(t)&&("[object RegExp]"===Object.prototype.toString.call(e)?e.test(t):"string"==typeof e&&-1!==t.indexOf(e))}function N(){return"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}var C={};function D(){return N()?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:C}function L(){var t=D(),e=t.crypto||t.msCrypto;if(void 0!==e&&e.getRandomValues){var n=new Uint16Array(8);e.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var r=function(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}function A(t){if(!t)return{};var e=t.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);return e?{host:e[4],path:e[5],protocol:e[2],relative:e[5]+(e[6]||"")+(e[8]||"")}:{}}function F(t){if(t.message)return t.message;if(t.exception&&t.exception.values&&t.exception.values[0]){var e=t.exception.values[0];return e.type&&e.value?e.type+": "+e.value:e.type||e.value||t.event_id||"<unknown>"}return t.event_id||"<unknown>"}function H(t){var e=D();if(!("console"in e))return t();var n=e.console,r={};["debug","info","warn","error","log","assert"].forEach((function(t){t in e.console&&n[t].__sentry_original__&&(r[t]=n[t],n[t]=n[t].__sentry_original__)}));var o=t();return Object.keys(r).forEach((function(t){n[t]=r[t]})),o}function B(t,e,n){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].value=t.exception.values[0].value||e||"",t.exception.values[0].type=t.exception.values[0].type||n||"Error"}function M(t,e){void 0===e&&(e={});try{t.exception.values[0].mechanism=t.exception.values[0].mechanism||{},Object.keys(e).forEach((function(n){t.exception.values[0].mechanism[n]=e[n]}))}catch(t){}}function q(t){try{for(var e=t,n=[],r=0,o=0,i=" > ".length,a=void 0;e&&r++<5&&!("html"===(a=Y(e))||r>1&&o+n.length*i+a.length>=80);)n.push(a),o+=a.length,e=e.parentNode;return n.reverse().join(" > ")}catch(t){return"<unknown>"}}function Y(t){var e,n,r,o,i,a=t,s=[];if(!a||!a.tagName)return"";if(s.push(a.tagName.toLowerCase()),a.id&&s.push("#"+a.id),(e=a.className)&&x(e))for(n=e.split(/\s+/),i=0;i<n.length;i++)s.push("."+n[i]);var c=["type","name","title","alt"];for(i=0;i<c.length;i++)(o=a.getAttribute(r=c[i]))&&s.push("["+r+'="'+o+'"]');return s.join("")}var W=Date.now(),G=0,X={now:function(){var t=Date.now()-W;return t<G&&(t=G),G=t,t},timeOrigin:W},J=function(){if(N())try{return module.require("perf_hooks").performance}catch(t){return X}return D().performance&&void 0===performance.timeOrigin&&(performance.timeOrigin=performance.timing&&performance.timing.navigationStart||W),D().performance||X}();function z(){return(J.timeOrigin+J.now())/1e3}function $(t,e){if(!e)return 6e4;var n=parseInt(""+e,10);if(!isNaN(n))return 1e3*n;var r=Date.parse(""+e);return isNaN(r)?6e4:r-t}var V="<anonymous>";function K(t){try{return t&&"function"==typeof t&&t.name||V}catch(t){return V}}var Q=D(),Z="Sentry Logger ",tt=function(){function t(){this._enabled=!1}return t.prototype.disable=function(){this._enabled=!1},t.prototype.enable=function(){this._enabled=!0},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&H((function(){Q.console.log(Z+"[Log]: "+t.join(" "))}))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&H((function(){Q.console.warn(Z+"[Warn]: "+t.join(" "))}))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&H((function(){Q.console.error(Z+"[Error]: "+t.join(" "))}))},t}();Q.__SENTRY__=Q.__SENTRY__||{};var et,nt=Q.__SENTRY__.logger||(Q.__SENTRY__.logger=new tt),rt=function(){function t(){this._hasWeakSet="function"==typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}return t.prototype.memoize=function(t){if(this._hasWeakSet)return!!this._inner.has(t)||(this._inner.add(t),!1);for(var e=0;e<this._inner.length;e++){if(this._inner[e]===t)return!0}return this._inner.push(t),!1},t.prototype.unmemoize=function(t){if(this._hasWeakSet)this._inner.delete(t);else for(var e=0;e<this._inner.length;e++)if(this._inner[e]===t){this._inner.splice(e,1);break}},t}();function ot(t,e,n){if(e in t){var r=t[e],o=n(r);if("function"==typeof o)try{o.prototype=o.prototype||{},Object.defineProperties(o,{__sentry_original__:{enumerable:!1,value:r}})}catch(t){}t[e]=o}}function it(t){if(b(t)){var e=t,n={message:e.message,name:e.name,stack:e.stack};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}if(O(t)){var o=t,i={};i.type=o.type;try{i.target=T(o.target)?q(o.target):Object.prototype.toString.call(o.target)}catch(t){i.target="<unknown>"}try{i.currentTarget=T(o.currentTarget)?q(o.currentTarget):Object.prototype.toString.call(o.currentTarget)}catch(t){i.currentTarget="<unknown>"}for(var r in"undefined"!=typeof CustomEvent&&R(t,CustomEvent)&&(i.detail=o.detail),o)Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o);return i}return t}function at(t){return function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(t))}function st(t,e,n){void 0===e&&(e=3),void 0===n&&(n=102400);var r=lt(t,e);return at(r)>n?st(t,e-1,n):r}function ct(t,e){return"domain"===e&&t&&"object"==typeof t&&t._events?"[Domain]":"domainEmitter"===e?"[DomainEmitter]":"undefined"!=typeof global&&t===global?"[Global]":"undefined"!=typeof window&&t===window?"[Window]":"undefined"!=typeof document&&t===document?"[Document]":k(n=t)&&"nativeEvent"in n&&"preventDefault"in n&&"stopPropagation"in n?"[SyntheticEvent]":"number"==typeof t&&t!=t?"[NaN]":void 0===t?"[undefined]":"function"==typeof t?"[Function: "+K(t)+"]":t;var n}function ut(t,e,n,r){if(void 0===n&&(n=1/0),void 0===r&&(r=new rt),0===n)return function(t){var e=Object.prototype.toString.call(t);if("string"==typeof t)return t;if("[object Object]"===e)return"[Object]";if("[object Array]"===e)return"[Array]";var n=ct(t);return S(n)?n:e}(e);if(null!=e&&"function"==typeof e.toJSON)return e.toJSON();var o=ct(e,t);if(S(o))return o;var i=it(e),a=Array.isArray(e)?[]:{};if(r.memoize(e))return"[Circular ~]";for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=ut(s,i[s],n-1,r));return r.unmemoize(e),a}function lt(t,e){try{return JSON.parse(JSON.stringify(t,(function(t,n){return ut(t,n,e)})))}catch(t){return"**non-serializable**"}}function pt(t,e){void 0===e&&(e=40);var n=Object.keys(it(t));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return I(n[0],e);for(var r=n.length;r>0;r--){var o=n.slice(0,r).join(", ");if(!(o.length>e))return r===n.length?o:I(o,e)}return""}!function(t){t.PENDING="PENDING",t.RESOLVED="RESOLVED",t.REJECTED="REJECTED"}(et||(et={}));var ft=function(){function t(t){var e=this;this._state=et.PENDING,this._handlers=[],this._resolve=function(t){e._setResult(et.RESOLVED,t)},this._reject=function(t){e._setResult(et.REJECTED,t)},this._setResult=function(t,n){e._state===et.PENDING&&(j(n)?n.then(e._resolve,e._reject):(e._state=t,e._value=n,e._executeHandlers()))},this._attachHandler=function(t){e._handlers=e._handlers.concat(t),e._executeHandlers()},this._executeHandlers=function(){if(e._state!==et.PENDING){var t=e._handlers.slice();e._handlers=[],t.forEach((function(t){t.done||(e._state===et.RESOLVED&&t.onfulfilled&&t.onfulfilled(e._value),e._state===et.REJECTED&&t.onrejected&&t.onrejected(e._value),t.done=!0)}))}};try{t(this._resolve,this._reject)}catch(t){this._reject(t)}}return t.prototype.toString=function(){return"[object SyncPromise]"},t.resolve=function(e){return new t((function(t){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.all=function(e){return new t((function(n,r){if(Array.isArray(e))if(0!==e.length){var o=e.length,i=[];e.forEach((function(e,a){t.resolve(e).then((function(t){i[a]=t,0===(o-=1)&&n(i)})).then(null,r)}))}else n([]);else r(new TypeError("Promise.all requires an array as input."))}))},t.prototype.then=function(e,n){var r=this;return new t((function(t,o){r._attachHandler({done:!1,onfulfilled:function(n){if(e)try{return void t(e(n))}catch(t){return void o(t)}else t(n)},onrejected:function(e){if(n)try{return void t(n(e))}catch(t){return void o(t)}else o(e)}})}))},t.prototype.catch=function(t){return this.then((function(t){return t}),t)},t.prototype.finally=function(e){var n=this;return new t((function(t,r){var o,i;return n.then((function(t){i=!1,o=t,e&&e()}),(function(t){i=!0,o=t,e&&e()})).then((function(){i?r(o):t(o)}))}))},t}(),ht=function(){function t(t){this._limit=t,this._buffer=[]}return t.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},t.prototype.add=function(t){var e=this;return this.isReady()?(-1===this._buffer.indexOf(t)&&this._buffer.push(t),t.then((function(){return e.remove(t)})).then(null,(function(){return e.remove(t).then(null,(function(){}))})),t):ft.reject(new m("Not adding Promise due to buffer limit reached."))},t.prototype.remove=function(t){return this._buffer.splice(this._buffer.indexOf(t),1)[0]},t.prototype.length=function(){return this._buffer.length},t.prototype.drain=function(t){var e=this;return new ft((function(n){var r=setTimeout((function(){t&&t>0&&n(!1)}),t);ft.all(e._buffer).then((function(){clearTimeout(r),n(!0)})).then(null,(function(){n(!0)}))}))},t}();function dt(){if(!("fetch"in D()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}function vt(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function _t(){if(!dt())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(t){return!1}}var yt,gt=D(),mt={},bt={};function Et(t){if(!bt[t])switch(bt[t]=!0,t){case"console":!function(){if(!("console"in gt))return;["debug","info","warn","error","log","assert"].forEach((function(t){t in gt.console&&ot(gt.console,t,(function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];xt("console",{args:n,level:t}),e&&Function.prototype.apply.call(e,gt.console,n)}}))}))}();break;case"dom":!function(){if(!("document"in gt))return;gt.document.addEventListener("click",Rt("click",xt.bind(null,"dom")),!1),gt.document.addEventListener("keypress",It(xt.bind(null,"dom")),!1),["EventTarget","Node"].forEach((function(t){var e=gt[t]&&gt[t].prototype;e&&e.hasOwnProperty&&e.hasOwnProperty("addEventListener")&&(ot(e,"addEventListener",(function(t){return function(e,n,r){return n&&n.handleEvent?("click"===e&&ot(n,"handleEvent",(function(t){return function(e){return Rt("click",xt.bind(null,"dom"))(e),t.call(this,e)}})),"keypress"===e&&ot(n,"handleEvent",(function(t){return function(e){return It(xt.bind(null,"dom"))(e),t.call(this,e)}}))):("click"===e&&Rt("click",xt.bind(null,"dom"),!0)(this),"keypress"===e&&It(xt.bind(null,"dom"))(this)),t.call(this,e,n,r)}})),ot(e,"removeEventListener",(function(t){return function(e,n,r){var o=n;try{o=o&&(o.__sentry_wrapped__||o)}catch(t){}return t.call(this,e,o,r)}})))}))}();break;case"xhr":!function(){if(!("XMLHttpRequest"in gt))return;var t=XMLHttpRequest.prototype;ot(t,"open",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[1];return this.__sentry_xhr__={method:x(e[0])?e[0].toUpperCase():e[0],url:e[1]},x(r)&&"POST"===this.__sentry_xhr__.method&&r.match(/sentry_key/)&&(this.__sentry_own_request__=!0),t.apply(this,e)}})),ot(t,"send",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this,o={args:e,startTimestamp:Date.now(),xhr:r};return xt("xhr",y({},o)),r.addEventListener("readystatechange",(function(){if(4===r.readyState){try{r.__sentry_xhr__&&(r.__sentry_xhr__.status_code=r.status)}catch(t){}xt("xhr",y({},o,{endTimestamp:Date.now()}))}})),t.apply(this,e)}}))}();break;case"fetch":!function(){if(!function(){if(!dt())return!1;var t=D();if(vt(t.fetch))return!0;var e=!1,n=t.document;if(n&&"function"==typeof n.createElement)try{var r=n.createElement("iframe");r.hidden=!0,n.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(e=vt(r.contentWindow.fetch)),n.head.removeChild(r)}catch(t){nt.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return e}())return;ot(gt,"fetch",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r={args:e,fetchData:{method:St(e),url:kt(e)},startTimestamp:Date.now()};return xt("fetch",y({},r)),t.apply(gt,e).then((function(t){return xt("fetch",y({},r,{endTimestamp:Date.now(),response:t})),t}),(function(t){throw xt("fetch",y({},r,{endTimestamp:Date.now(),error:t})),t}))}}))}();break;case"history":!function(){if(!function(){var t=D(),e=t.chrome;return!(e&&e.app&&e.app.runtime||!("history"in t)||!t.history.pushState||!t.history.replaceState)}())return;var t=gt.onpopstate;function e(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.length>2?e[2]:void 0;if(r){var o=yt,i=String(r);yt=i,xt("history",{from:o,to:i})}return t.apply(this,e)}}gt.onpopstate=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=gt.location.href,o=yt;if(yt=r,xt("history",{from:o,to:r}),t)return t.apply(this,e)},ot(gt.history,"pushState",e),ot(gt.history,"replaceState",e)}();break;case"error":Pt=gt.onerror,gt.onerror=function(t,e,n,r,o){return xt("error",{column:r,error:o,line:n,msg:t,url:e}),!!Pt&&Pt.apply(this,arguments)};break;case"unhandledrejection":Ut=gt.onunhandledrejection,gt.onunhandledrejection=function(t){return xt("unhandledrejection",t),!Ut||Ut.apply(this,arguments)};break;default:nt.warn("unknown instrumentation type:",t)}}function wt(t){t&&"string"==typeof t.type&&"function"==typeof t.callback&&(mt[t.type]=mt[t.type]||[],mt[t.type].push(t.callback),Et(t.type))}function xt(t,e){var n,r;if(t&&mt[t])try{for(var o=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(mt[t]||[]),i=o.next();!i.done;i=o.next()){var a=i.value;try{a(e)}catch(e){nt.error("Error while triggering instrumentation handler.\nType: "+t+"\nName: "+K(a)+"\nError: "+e)}}}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}function St(t){return void 0===t&&(t=[]),"Request"in gt&&R(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}function kt(t){return void 0===t&&(t=[]),"string"==typeof t[0]?t[0]:"Request"in gt&&R(t[0],Request)?t[0].url:String(t[0])}var Ot,Tt,jt=0;function Rt(t,e,n){return void 0===n&&(n=!1),function(r){Ot=void 0,r&&Tt!==r&&(Tt=r,jt&&clearTimeout(jt),n?jt=setTimeout((function(){e({event:r,name:t})})):e({event:r,name:t}))}}function It(t){return function(e){var n;try{n=e.target}catch(t){return}var r=n&&n.tagName;r&&("INPUT"===r||"TEXTAREA"===r||n.isContentEditable)&&(Ot||Rt("input",t)(e),clearTimeout(Ot),Ot=setTimeout((function(){Ot=void 0}),1e3))}}var Pt=null;var Ut=null;var Nt=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w\.-]+)(?::(\d+))?\/(.+)/,Ct="Invalid Dsn",Dt=function(){function t(t){"string"==typeof t?this._fromString(t):this._fromComponents(t),this._validate()}return t.prototype.toString=function(t){void 0===t&&(t=!1);var e=this,n=e.path,r=e.pass,o=e.port;return e.protocol+"://"+e.user+(t&&r?":"+r:"")+"@"+e.host+(o?":"+o:"")+"/"+(n?n+"/":n)+e.projectId},t.prototype._fromString=function(t){var e=Nt.exec(t);if(!e)throw new m(Ct);var n=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(e.slice(1),6),r=n[0],o=n[1],i=n[2],a=void 0===i?"":i,s=n[3],c=n[4],u=void 0===c?"":c,l="",p=n[5],f=p.split("/");f.length>1&&(l=f.slice(0,-1).join("/"),p=f.pop()),this._fromComponents({host:s,pass:a,path:l,projectId:p,port:u,protocol:r,user:o})},t.prototype._fromComponents=function(t){this.protocol=t.protocol,this.user=t.user,this.pass=t.pass||"",this.host=t.host,this.port=t.port||"",this.path=t.path||"",this.projectId=t.projectId},t.prototype._validate=function(){var t=this;if(["protocol","user","host","projectId"].forEach((function(e){if(!t[e])throw new m(Ct)})),"http"!==this.protocol&&"https"!==this.protocol)throw new m(Ct);if(this.port&&isNaN(parseInt(this.port,10)))throw new m(Ct)},t}(),Lt=function(){function t(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._context={}}return t.prototype.addScopeListener=function(t){this._scopeListeners.push(t)},t.prototype.addEventProcessor=function(t){return this._eventProcessors.push(t),this},t.prototype._notifyScopeListeners=function(){var t=this;this._notifyingListeners||(this._notifyingListeners=!0,setTimeout((function(){t._scopeListeners.forEach((function(e){e(t)})),t._notifyingListeners=!1})))},t.prototype._notifyEventProcessors=function(t,e,n,r){var o=this;return void 0===r&&(r=0),new ft((function(i,a){var s=t[r];if(null===e||"function"!=typeof s)i(e);else{var c=s(h({},e),n);j(c)?c.then((function(e){return o._notifyEventProcessors(t,e,n,r+1).then(i)})).then(null,a):o._notifyEventProcessors(t,c,n,r+1).then(i).then(null,a)}}))},t.prototype.setUser=function(t){return this._user=t||{},this._notifyScopeListeners(),this},t.prototype.setTags=function(t){return this._tags=h({},this._tags,t),this._notifyScopeListeners(),this},t.prototype.setTag=function(t,e){var n;return this._tags=h({},this._tags,((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setExtras=function(t){return this._extra=h({},this._extra,t),this._notifyScopeListeners(),this},t.prototype.setExtra=function(t,e){var n;return this._extra=h({},this._extra,((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setFingerprint=function(t){return this._fingerprint=t,this._notifyScopeListeners(),this},t.prototype.setLevel=function(t){return this._level=t,this._notifyScopeListeners(),this},t.prototype.setTransaction=function(t){return this._transaction=t,this._span&&(this._span.transaction=t),this._notifyScopeListeners(),this},t.prototype.setContext=function(t,e){var n;return this._context=h({},this._context,((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setSpan=function(t){return this._span=t,this._notifyScopeListeners(),this},t.prototype.getSpan=function(){return this._span},t.clone=function(e){var n=new t;return e&&(n._breadcrumbs=v(e._breadcrumbs),n._tags=h({},e._tags),n._extra=h({},e._extra),n._context=h({},e._context),n._user=e._user,n._level=e._level,n._span=e._span,n._transaction=e._transaction,n._fingerprint=e._fingerprint,n._eventProcessors=v(e._eventProcessors)),n},t.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._context={},this._level=void 0,this._transaction=void 0,this._fingerprint=void 0,this._span=void 0,this._notifyScopeListeners(),this},t.prototype.addBreadcrumb=function(t,e){var n=h({timestamp:z()},t);return this._breadcrumbs=void 0!==e&&e>=0?v(this._breadcrumbs,[n]).slice(-e):v(this._breadcrumbs,[n]),this._notifyScopeListeners(),this},t.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},t.prototype._applyFingerprint=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},t.prototype.applyToEvent=function(t,e){return this._extra&&Object.keys(this._extra).length&&(t.extra=h({},this._extra,t.extra)),this._tags&&Object.keys(this._tags).length&&(t.tags=h({},this._tags,t.tags)),this._user&&Object.keys(this._user).length&&(t.user=h({},this._user,t.user)),this._context&&Object.keys(this._context).length&&(t.contexts=h({},this._context,t.contexts)),this._level&&(t.level=this._level),this._transaction&&(t.transaction=this._transaction),this._span&&(t.contexts=h({trace:this._span.getTraceContext()},t.contexts)),this._applyFingerprint(t),t.breadcrumbs=v(t.breadcrumbs||[],this._breadcrumbs),t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,this._notifyEventProcessors(v(At(),this._eventProcessors),t,e)},t}();function At(){var t=D();return t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.globalEventProcessors=t.__SENTRY__.globalEventProcessors||[],t.__SENTRY__.globalEventProcessors}function Ft(t){At().push(t)}var Ht=function(){function t(t,e,n){void 0===e&&(e=new Lt),void 0===n&&(n=3),this._version=n,this._stack=[],this._stack.push({client:t,scope:e})}return t.prototype._invokeClient=function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this.getStackTop();o&&o.client&&o.client[t]&&(e=o.client)[t].apply(e,v(n,[o.scope]))},t.prototype.isOlderThan=function(t){return this._version<t},t.prototype.bindClient=function(t){this.getStackTop().client=t,t&&t.setupIntegrations&&t.setupIntegrations()},t.prototype.pushScope=function(){var t=this.getStack(),e=Lt.clone(t.length>0?t[t.length-1].scope:void 0);return this.getStack().push({client:this.getClient(),scope:e}),e},t.prototype.popScope=function(){return void 0!==this.getStack().pop()},t.prototype.withScope=function(t){var e=this.pushScope();try{t(e)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this._stack},t.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},t.prototype.captureException=function(t,e){var n=this._lastEventId=L(),r=e;if(!e){var o=void 0;try{throw new Error("Sentry syntheticException")}catch(t){o=t}r={originalException:t,syntheticException:o}}return this._invokeClient("captureException",t,h({},r,{event_id:n})),n},t.prototype.captureMessage=function(t,e,n){var r=this._lastEventId=L(),o=n;if(!n){var i=void 0;try{throw new Error(t)}catch(t){i=t}o={originalException:t,syntheticException:i}}return this._invokeClient("captureMessage",t,e,h({},o,{event_id:r})),r},t.prototype.captureEvent=function(t,e){var n=this._lastEventId=L();return this._invokeClient("captureEvent",t,h({},e,{event_id:n})),n},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(t,e){var n=this.getStackTop();if(n.scope&&n.client){var r=n.client.getOptions&&n.client.getOptions()||{},o=r.beforeBreadcrumb,i=void 0===o?null:o,a=r.maxBreadcrumbs,s=void 0===a?100:a;if(!(s<=0)){var c=z(),u=h({timestamp:c},t),l=i?H((function(){return i(u,e)})):u;null!==l&&n.scope.addBreadcrumb(l,Math.min(s,100))}}},t.prototype.setUser=function(t){var e=this.getStackTop();e.scope&&e.scope.setUser(t)},t.prototype.setTags=function(t){var e=this.getStackTop();e.scope&&e.scope.setTags(t)},t.prototype.setExtras=function(t){var e=this.getStackTop();e.scope&&e.scope.setExtras(t)},t.prototype.setTag=function(t,e){var n=this.getStackTop();n.scope&&n.scope.setTag(t,e)},t.prototype.setExtra=function(t,e){var n=this.getStackTop();n.scope&&n.scope.setExtra(t,e)},t.prototype.setContext=function(t,e){var n=this.getStackTop();n.scope&&n.scope.setContext(t,e)},t.prototype.configureScope=function(t){var e=this.getStackTop();e.scope&&e.client&&t(e.scope)},t.prototype.run=function(t){var e=Mt(this);try{t(this)}finally{Mt(e)}},t.prototype.getIntegration=function(t){var e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch(e){return nt.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},t.prototype.startSpan=function(t,e){return void 0===e&&(e=!1),this._callExtensionMethod("startSpan",t,e)},t.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},t.prototype._callExtensionMethod=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Bt(),o=r.__SENTRY__;if(o&&o.extensions&&"function"==typeof o.extensions[t])return o.extensions[t].apply(this,e);nt.warn("Extension method "+t+" couldn't be found, doing nothing.")},t}();function Bt(){var t=D();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}function Mt(t){var e=Bt(),n=Wt(e);return Gt(e,t),n}function qt(){var t=Bt();return Yt(t)&&!Wt(t).isOlderThan(3)||Gt(t,new Ht),N()?function(t){try{var e="domain",n=Bt().__SENTRY__;if(!n||!n.extensions||!n.extensions[e])return Wt(t);var r=n.extensions[e].active;if(!r)return Wt(t);if(!Yt(r)||Wt(r).isOlderThan(3)){var o=Wt(t).getStackTop();Gt(r,new Ht(o.client,Lt.clone(o.scope)))}return Wt(r)}catch(e){return Wt(t)}}(t):Wt(t)}function Yt(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function Wt(t){return t&&t.__SENTRY__&&t.__SENTRY__.hub||(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=new Ht),t.__SENTRY__.hub}function Gt(t,e){return!!t&&(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=e,!0)}function Xt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=qt();if(r&&r[t])return r[t].apply(r,f(e));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}function Jt(t){var e;try{throw new Error("Sentry syntheticException")}catch(t){e=t}return Xt("captureException",t,{originalException:t,syntheticException:e})}function zt(t,e){var n;try{throw new Error(t)}catch(t){n=t}return Xt("captureMessage",t,e,{originalException:t,syntheticException:n})}function $t(t){Xt("configureScope",t)}function Vt(t,e){Xt("setExtra",t,e)}function Kt(t,e){Xt("setTag",t,e)}function Qt(t){Xt("setUser",t)}function Zt(t){Xt("withScope",t)}var te=function(){function t(t){this.dsn=t,this._dsnObject=new Dt(t)}return t.prototype.getDsn=function(){return this._dsnObject},t.prototype.getStoreEndpoint=function(){return""+this._getBaseUrl()+this.getStoreEndpointPath()},t.prototype.getStoreEndpointWithUrlEncodedAuth=function(){var t,e={sentry_key:this._dsnObject.user,sentry_version:"7"};return this.getStoreEndpoint()+"?"+(t=e,Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&"))},t.prototype._getBaseUrl=function(){var t=this._dsnObject;return(t.protocol?t.protocol+":":"")+"//"+t.host+(t.port?":"+t.port:"")},t.prototype.getStoreEndpointPath=function(){var t=this._dsnObject;return(t.path?"/"+t.path:"")+"/api/"+t.projectId+"/store/"},t.prototype.getRequestHeaders=function(t,e){var n=this._dsnObject,r=["Sentry sentry_version=7"];return r.push("sentry_client="+t+"/"+e),r.push("sentry_key="+n.user),n.pass&&r.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":r.join(", ")}},t.prototype.getReportDialogEndpoint=function(t){void 0===t&&(t={});var e=this._dsnObject,n=this._getBaseUrl()+(e.path?"/"+e.path:"")+"/api/embed/error-page/",r=[];for(var o in r.push("dsn="+e.toString()),t)if("user"===o){if(!t.user)continue;t.user.name&&r.push("name="+encodeURIComponent(t.user.name)),t.user.email&&r.push("email="+encodeURIComponent(t.user.email))}else r.push(encodeURIComponent(o)+"="+encodeURIComponent(t[o]));return r.length?n+"?"+r.join("&"):n},t}(),ee=function(){return(ee=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function ne(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function re(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ne(arguments[e]));return t}var oe=[];function ie(t){var e={};return function(t){var e=t.defaultIntegrations&&re(t.defaultIntegrations)||[],n=t.integrations,r=[];if(Array.isArray(n)){var o=n.map((function(t){return t.name})),i=[];e.forEach((function(t){-1===o.indexOf(t.name)&&-1===i.indexOf(t.name)&&(r.push(t),i.push(t.name))})),n.forEach((function(t){-1===i.indexOf(t.name)&&(r.push(t),i.push(t.name))}))}else"function"==typeof n?(r=n(e),r=Array.isArray(r)?r:[r]):r=re(e);var a=r.map((function(t){return t.name})),s="Debug";return-1!==a.indexOf(s)&&r.push.apply(r,re(r.splice(a.indexOf(s),1))),r}(t).forEach((function(t){e[t.name]=t,function(t){-1===oe.indexOf(t.name)&&(t.setupOnce(Ft,qt),oe.push(t.name),nt.log("Integration installed: "+t.name))}(t)})),e}var ae,se=function(){function t(t,e){this._integrations={},this._processing=!1,this._backend=new t(e),this._options=e,e.dsn&&(this._dsn=new Dt(e.dsn))}return t.prototype.captureException=function(t,e,n){var r=this,o=e&&e.event_id;return this._processing=!0,this._getBackend().eventFromException(t,e).then((function(t){return r._processEvent(t,e,n)})).then((function(t){o=t&&t.event_id,r._processing=!1})).then(null,(function(t){nt.error(t),r._processing=!1})),o},t.prototype.captureMessage=function(t,e,n,r){var o=this,i=n&&n.event_id;return this._processing=!0,(S(t)?this._getBackend().eventFromMessage(""+t,e,n):this._getBackend().eventFromException(t,n)).then((function(t){return o._processEvent(t,n,r)})).then((function(t){i=t&&t.event_id,o._processing=!1})).then(null,(function(t){nt.error(t),o._processing=!1})),i},t.prototype.captureEvent=function(t,e,n){var r=this,o=e&&e.event_id;return this._processing=!0,this._processEvent(t,e,n).then((function(t){o=t&&t.event_id,r._processing=!1})).then(null,(function(t){nt.error(t),r._processing=!1})),o},t.prototype.getDsn=function(){return this._dsn},t.prototype.getOptions=function(){return this._options},t.prototype.flush=function(t){var e=this;return this._isClientProcessing(t).then((function(n){return clearInterval(n.interval),e._getBackend().getTransport().close(t).then((function(t){return n.ready&&t}))}))},t.prototype.close=function(t){var e=this;return this.flush(t).then((function(t){return e.getOptions().enabled=!1,t}))},t.prototype.setupIntegrations=function(){this._isEnabled()&&(this._integrations=ie(this._options))},t.prototype.getIntegration=function(t){try{return this._integrations[t.id]||null}catch(e){return nt.warn("Cannot retrieve integration "+t.id+" from the current Client"),null}},t.prototype._isClientProcessing=function(t){var e=this;return new ft((function(n){var r=0,o=0;clearInterval(o),o=setInterval((function(){e._processing?(r+=1,t&&r>=t&&n({interval:o,ready:!1})):n({interval:o,ready:!0})}),1)}))},t.prototype._getBackend=function(){return this._backend},t.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},t.prototype._prepareEvent=function(t,e,n){var r=this,o=this.getOptions(),i=o.environment,a=o.release,s=o.dist,c=o.maxValueLength,u=void 0===c?250:c,l=o.normalizeDepth,p=void 0===l?3:l,f=ee({},t);void 0===f.environment&&void 0!==i&&(f.environment=i),void 0===f.release&&void 0!==a&&(f.release=a),void 0===f.dist&&void 0!==s&&(f.dist=s),f.message&&(f.message=I(f.message,u));var h=f.exception&&f.exception.values&&f.exception.values[0];h&&h.value&&(h.value=I(h.value,u));var d=f.request;d&&d.url&&(d.url=I(d.url,u)),void 0===f.event_id&&(f.event_id=n&&n.event_id?n.event_id:L()),this._addIntegrations(f.sdk);var v=ft.resolve(f);return e&&(v=e.applyToEvent(f,n)),v.then((function(t){return"number"==typeof p&&p>0?r._normalizeEvent(t,p):t}))},t.prototype._normalizeEvent=function(t,e){return t?ee({},t,t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map((function(t){return ee({},t,t.data&&{data:lt(t.data,e)})}))},t.user&&{user:lt(t.user,e)},t.contexts&&{contexts:lt(t.contexts,e)},t.extra&&{extra:lt(t.extra,e)}):null},t.prototype._addIntegrations=function(t){var e=Object.keys(this._integrations);t&&e.length>0&&(t.integrations=e)},t.prototype._processEvent=function(t,e,n){var r=this,o=this.getOptions(),i=o.beforeSend,a=o.sampleRate;return this._isEnabled()?"number"==typeof a&&Math.random()>a?ft.reject("This event has been sampled, will not send event."):new ft((function(o,a){r._prepareEvent(t,n,e).then((function(t){if(null!==t){var n=t;if(e&&e.data&&!0===e.data.__sentry__||!i)return r._getBackend().sendEvent(n),void o(n);var s=i(t,e);if(void 0===s)nt.error("`beforeSend` method has to return `null` or a valid event.");else if(j(s))r._handleAsyncBeforeSend(s,o,a);else{if(null===(n=s))return nt.log("`beforeSend` returned `null`, will not send event."),void o(null);r._getBackend().sendEvent(n),o(n)}}else a("An event processor returned null, will not send event.")})).then(null,(function(t){r.captureException(t,{data:{__sentry__:!0},originalException:t}),a("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+t)}))})):ft.reject("SDK not enabled, will not send event.")},t.prototype._handleAsyncBeforeSend=function(t,e,n){var r=this;t.then((function(t){null!==t?(r._getBackend().sendEvent(t),e(t)):n("`beforeSend` returned `null`, will not send event.")})).then(null,(function(t){n("beforeSend rejected with "+t)}))},t}(),ce=function(){function t(){}return t.prototype.sendEvent=function(t){return ft.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:s.Skipped})},t.prototype.close=function(t){return ft.resolve(!0)},t}(),ue=function(){function t(t){this._options=t,this._options.dsn||nt.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return t.prototype._setupTransport=function(){return new ce},t.prototype.eventFromException=function(t,e){throw new m("Backend has to implement `eventFromException` method")},t.prototype.eventFromMessage=function(t,e,n){throw new m("Backend has to implement `eventFromMessage` method")},t.prototype.sendEvent=function(t){this._transport.sendEvent(t).then(null,(function(t){nt.error("Error while sending event: "+t)}))},t.prototype.getTransport=function(){return this._transport},t}();var le=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){ae=Function.prototype.toString,Function.prototype.toString=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.__sentry_original__||this;return ae.apply(n,t)}},t.id="FunctionToString",t}(),pe=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],fe=function(){function t(e){void 0===e&&(e={}),this._options=e,this.name=t.id}return t.prototype.setupOnce=function(){Ft((function(e){var n=qt();if(!n)return e;var r=n.getIntegration(t);if(r){var o=n.getClient(),i=o?o.getOptions():{},a=r._mergeOptions(i);if(r._shouldDropEvent(e,a))return null}return e}))},t.prototype._shouldDropEvent=function(t,e){return this._isSentryError(t,e)?(nt.warn("Event dropped due to being internal Sentry Error.\nEvent: "+F(t)),!0):this._isIgnoredError(t,e)?(nt.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+F(t)),!0):this._isBlacklistedUrl(t,e)?(nt.warn("Event dropped due to being matched by `blacklistUrls` option.\nEvent: "+F(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0):!this._isWhitelistedUrl(t,e)&&(nt.warn("Event dropped due to not being matched by `whitelistUrls` option.\nEvent: "+F(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0)},t.prototype._isSentryError=function(t,e){if(void 0===e&&(e={}),!e.ignoreInternal)return!1;try{return t&&t.exception&&t.exception.values&&t.exception.values[0]&&"SentryError"===t.exception.values[0].type||!1}catch(t){return!1}},t.prototype._isIgnoredError=function(t,e){return void 0===e&&(e={}),!(!e.ignoreErrors||!e.ignoreErrors.length)&&this._getPossibleEventMessages(t).some((function(t){return e.ignoreErrors.some((function(e){return U(t,e)}))}))},t.prototype._isBlacklistedUrl=function(t,e){if(void 0===e&&(e={}),!e.blacklistUrls||!e.blacklistUrls.length)return!1;var n=this._getEventFilterUrl(t);return!!n&&e.blacklistUrls.some((function(t){return U(n,t)}))},t.prototype._isWhitelistedUrl=function(t,e){if(void 0===e&&(e={}),!e.whitelistUrls||!e.whitelistUrls.length)return!0;var n=this._getEventFilterUrl(t);return!n||e.whitelistUrls.some((function(t){return U(n,t)}))},t.prototype._mergeOptions=function(t){return void 0===t&&(t={}),{blacklistUrls:re(this._options.blacklistUrls||[],t.blacklistUrls||[]),ignoreErrors:re(this._options.ignoreErrors||[],t.ignoreErrors||[],pe),ignoreInternal:void 0===this._options.ignoreInternal||this._options.ignoreInternal,whitelistUrls:re(this._options.whitelistUrls||[],t.whitelistUrls||[])}},t.prototype._getPossibleEventMessages=function(t){if(t.message)return[t.message];if(t.exception)try{var e=t.exception.values&&t.exception.values[0]||{},n=e.type,r=e.value,o=void 0===r?"":r;return[""+o,(void 0===n?"":n)+": "+o]}catch(e){return nt.error("Cannot extract message for event "+F(t)),[]}return[]},t.prototype._getEventFilterUrl=function(t){try{if(t.stacktrace){var e=t.stacktrace.frames;return e&&e[e.length-1].filename||null}if(t.exception){var n=t.exception.values&&t.exception.values[0].stacktrace&&t.exception.values[0].stacktrace.frames;return n&&n[n.length-1].filename||null}return null}catch(e){return nt.error("Cannot extract url for event "+F(t)),null}},t.id="InboundFilters",t}(),he="?",de=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,ve=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,_e=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,ye=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,ge=/\((\S*)(?::(\d+))(?::(\d+))\)/;function me(t){var e=null,n=t&&t.framesToPop;try{if(e=function(t){if(!t||!t.stacktrace)return null;for(var e,n=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,r=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,o=t.stacktrace.split("\n"),i=[],a=0;a<o.length;a+=2){var s=null;(e=n.exec(o[a]))?s={url:e[2],func:e[3],args:[],line:+e[1],column:null}:(e=r.exec(o[a]))&&(s={url:e[6],func:e[3]||e[4],args:e[5]?e[5].split(","):[],line:+e[1],column:+e[2]}),s&&(!s.func&&s.line&&(s.func=he),i.push(s))}if(!i.length)return null;return{message:Ee(t),name:t.name,stack:i}}(t))return be(e,n)}catch(t){}try{if(e=function(t){if(!t||!t.stack)return null;for(var e,n,r,o=[],i=t.stack.split("\n"),a=0;a<i.length;++a){if(n=de.exec(i[a])){var s=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(e=ge.exec(n[2]))&&(n[2]=e[1],n[3]=e[2],n[4]=e[3]),r={url:n[2]&&0===n[2].indexOf("address at ")?n[2].substr("address at ".length):n[2],func:n[1]||he,args:s?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=_e.exec(i[a]))r={url:n[2],func:n[1]||he,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=ve.exec(i[a])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(e=ye.exec(n[3]))?(n[1]=n[1]||"eval",n[3]=e[1],n[4]=e[2],n[5]=""):0!==a||n[5]||void 0===t.columnNumber||(o[0].column=t.columnNumber+1),r={url:n[3],func:n[1]||he,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!r.func&&r.line&&(r.func=he),o.push(r)}if(!o.length)return null;return{message:Ee(t),name:t.name,stack:o}}(t))return be(e,n)}catch(t){}return{message:Ee(t),name:t&&t.name,stack:[],failed:!0}}function be(t,e){try{return c({},t,{stack:t.stack.slice(e)})}catch(e){return t}}function Ee(t){var e=t&&t.message;return e?e.error&&"string"==typeof e.error.message?e.error.message:e:"No error message"}function we(t){var e=Se(t.stack),n={type:t.name,value:t.message};return e&&e.length&&(n.stacktrace={frames:e}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function xe(t){return{exception:{values:[we(t)]}}}function Se(t){if(!t||!t.length)return[];var e=t,n=e[0].func||"",r=e[e.length-1].func||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(e=e.slice(1)),-1!==r.indexOf("sentryWrapped")&&(e=e.slice(0,-1)),e.map((function(t){return{colno:null===t.column?void 0:t.column,filename:t.url||e[0].url,function:t.func||"?",in_app:!0,lineno:null===t.line?void 0:t.line}})).slice(0,50).reverse()}function ke(t,e,n){var r;if(void 0===n&&(n={}),E(t)&&t.error)return r=xe(me(t=t.error));if(w(t)||"[object DOMException]"===Object.prototype.toString.call(t)){var o=t,i=o.name||(w(o)?"DOMError":"DOMException"),a=o.message?i+": "+o.message:i;return B(r=Oe(a,e,n),a),r}return b(t)?r=xe(me(t)):k(t)||O(t)?(M(r=function(t,e,n){var r={exception:{values:[{type:O(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+pt(t)}]},extra:{__serialized__:st(t)}};if(e){var o=Se(me(e).stack);r.stacktrace={frames:o}}return r}(t,e,n.rejection),{synthetic:!0}),r):(B(r=Oe(t,e,n),""+t,void 0),M(r,{synthetic:!0}),r)}function Oe(t,e,n){void 0===n&&(n={});var r={message:t};if(n.attachStacktrace&&e){var o=Se(me(e).stack);r.stacktrace={frames:o}}return r}var Te=function(){function t(t){this.options=t,this._buffer=new ht(30),this.url=new te(this.options.dsn).getStoreEndpointWithUrlEncodedAuth()}return t.prototype.sendEvent=function(t){throw new m("Transport Class has to implement `sendEvent` method")},t.prototype.close=function(t){return this._buffer.drain(t)},t}(),je=D(),Re=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._disabledUntil=new Date(Date.now()),e}return i(e,t),e.prototype.sendEvent=function(t){var e=this;if(new Date(Date.now())<this._disabledUntil)return Promise.reject({event:t,reason:"Transport locked till "+this._disabledUntil+" due to too many requests.",status:429});var n={body:JSON.stringify(t),method:"POST",referrerPolicy:_t()?"origin":""};return void 0!==this.options.headers&&(n.headers=this.options.headers),this._buffer.add(new ft((function(t,r){je.fetch(e.url,n).then((function(n){var o=s.fromHttpCode(n.status);if(o!==s.Success){if(o===s.RateLimit){var i=Date.now();e._disabledUntil=new Date(i+$(i,n.headers.get("Retry-After"))),nt.warn("Too many requests, backing off till: "+e._disabledUntil)}r(n)}else t({status:o})})).catch(r)})))},e}(Te),Ie=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._disabledUntil=new Date(Date.now()),e}return i(e,t),e.prototype.sendEvent=function(t){var e=this;return new Date(Date.now())<this._disabledUntil?Promise.reject({event:t,reason:"Transport locked till "+this._disabledUntil+" due to too many requests.",status:429}):this._buffer.add(new ft((function(n,r){var o=new XMLHttpRequest;for(var i in o.onreadystatechange=function(){if(4===o.readyState){var t=s.fromHttpCode(o.status);if(t!==s.Success){if(t===s.RateLimit){var i=Date.now();e._disabledUntil=new Date(i+$(i,o.getResponseHeader("Retry-After"))),nt.warn("Too many requests, backing off till: "+e._disabledUntil)}r(o)}else n({status:t})}},o.open("POST",e.url),e.options.headers)e.options.headers.hasOwnProperty(i)&&o.setRequestHeader(i,e.options.headers[i]);o.send(JSON.stringify(t))})))},e}(Te),Pe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._setupTransport=function(){if(!this._options.dsn)return t.prototype._setupTransport.call(this);var e=c({},this._options.transportOptions,{dsn:this._options.dsn});return this._options.transport?new this._options.transport(e):dt()?new Re(e):new Ie(e)},e.prototype.eventFromException=function(t,e){var n=ke(t,e&&e.syntheticException||void 0,{attachStacktrace:this._options.attachStacktrace});return M(n,{handled:!0,type:"generic"}),n.level=a.Error,e&&e.event_id&&(n.event_id=e.event_id),ft.resolve(n)},e.prototype.eventFromMessage=function(t,e,n){void 0===e&&(e=a.Info);var r=Oe(t,n&&n.syntheticException||void 0,{attachStacktrace:this._options.attachStacktrace});return r.level=e,n&&n.event_id&&(r.event_id=n.event_id),ft.resolve(r)},e}(ue),Ue="5.15.5",Ne=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Pe,e)||this}return i(e,t),e.prototype._prepareEvent=function(e,n,r){return e.platform=e.platform||"javascript",e.sdk=c({},e.sdk,{name:"sentry.javascript.browser",packages:l(e.sdk&&e.sdk.packages||[],[{name:"npm:@sentry/browser",version:Ue}]),version:Ue}),t.prototype._prepareEvent.call(this,e,n,r)},e.prototype.showReportDialog=function(t){void 0===t&&(t={});var e=D().document;if(e)if(this._isEnabled()){var n=t.dsn||this.getDsn();if(t.eventId)if(n){var r=e.createElement("script");r.async=!0,r.src=new te(n).getReportDialogEndpoint(t),t.onLoad&&(r.onload=t.onLoad),(e.head||e.body).appendChild(r)}else nt.error("Missing `Dsn` option in showReportDialog call");else nt.error("Missing `eventId` option in showReportDialog call")}else nt.error("Trying to call showReportDialog with Sentry Client is disabled")},e}(se),Ce=0;function De(){return Ce>0}function Le(){Ce+=1,setTimeout((function(){Ce-=1}))}function Ae(t,e,n){if(void 0===e&&(e={}),"function"!=typeof t)return t;try{if(t.__sentry__)return t;if(t.__sentry_wrapped__)return t.__sentry_wrapped__}catch(e){return t}var r=function(){var r=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);var o=r.map((function(t){return Ae(t,e)}));return t.handleEvent?t.handleEvent.apply(this,o):t.apply(this,o)}catch(t){throw Le(),Zt((function(n){n.addEventProcessor((function(t){var n=c({},t);return e.mechanism&&(B(n,void 0,void 0),M(n,e.mechanism)),n.extra=c({},n.extra,{arguments:r}),n})),Jt(t)})),t}};try{for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])}catch(t){}t.prototype=t.prototype||{},r.prototype=t.prototype,Object.defineProperty(t,"__sentry_wrapped__",{enumerable:!1,value:r}),Object.defineProperties(r,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:t}});try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:function(){return t.name}})}catch(t){}return r}var Fe=function(){function t(e){this.name=t.id,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=c({onerror:!0,onunhandledrejection:!0},e)}return t.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(nt.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(nt.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},t.prototype._installGlobalOnErrorHandler=function(){var e=this;this._onErrorHandlerInstalled||(wt({callback:function(n){var r=n.error,o=qt(),i=o.getIntegration(t),a=r&&!0===r.__sentry_own_request__;if(i&&!De()&&!a){var s=o.getClient(),c=S(r)?e._eventFromIncompleteOnError(n.msg,n.url,n.line,n.column):e._enhanceEventWithInitialFrame(ke(r,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!1}),n.url,n.line,n.column);M(c,{handled:!1,type:"onerror"}),o.captureEvent(c,{originalException:r})}},type:"error"}),this._onErrorHandlerInstalled=!0)},t.prototype._installGlobalOnUnhandledRejectionHandler=function(){var e=this;this._onUnhandledRejectionHandlerInstalled||(wt({callback:function(n){var r=n;try{"reason"in n?r=n.reason:"detail"in n&&"reason"in n.detail&&(r=n.detail.reason)}catch(t){}var o=qt(),i=o.getIntegration(t),s=r&&!0===r.__sentry_own_request__;if(!i||De()||s)return!0;var c=o.getClient(),u=S(r)?e._eventFromIncompleteRejection(r):ke(r,void 0,{attachStacktrace:c&&c.getOptions().attachStacktrace,rejection:!0});u.level=a.Error,M(u,{handled:!1,type:"onunhandledrejection"}),o.captureEvent(u,{originalException:r})},type:"unhandledrejection"}),this._onUnhandledRejectionHandlerInstalled=!0)},t.prototype._eventFromIncompleteOnError=function(t,e,n,r){var o,i=E(t)?t.message:t;if(x(i)){var a=i.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);a&&(o=a[1],i=a[2])}return this._enhanceEventWithInitialFrame({exception:{values:[{type:o||"Error",value:i}]}},e,n,r)},t.prototype._eventFromIncompleteRejection=function(t){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+t}]}}},t.prototype._enhanceEventWithInitialFrame=function(t,e,n,r){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].stacktrace=t.exception.values[0].stacktrace||{},t.exception.values[0].stacktrace.frames=t.exception.values[0].stacktrace.frames||[];var o=isNaN(parseInt(r,10))?void 0:r,i=isNaN(parseInt(n,10))?void 0:n,a=x(e)&&e.length>0?e:function(){try{return document.location.href}catch(t){return""}}();return 0===t.exception.values[0].stacktrace.frames.length&&t.exception.values[0].stacktrace.frames.push({colno:o,filename:a,function:"?",in_app:!0,lineno:i}),t},t.id="GlobalHandlers",t}(),He=function(){function t(){this._ignoreOnError=0,this.name=t.id}return t.prototype._wrapTimeFunction=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0];return e[0]=Ae(r,{mechanism:{data:{function:K(t)},handled:!0,type:"instrument"}}),t.apply(this,e)}},t.prototype._wrapRAF=function(t){return function(e){return t(Ae(e,{mechanism:{data:{function:"requestAnimationFrame",handler:K(t)},handled:!0,type:"instrument"}}))}},t.prototype._wrapEventTarget=function(t){var e=D(),n=e[t]&&e[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(ot(n,"addEventListener",(function(e){return function(n,r,o){try{"function"==typeof r.handleEvent&&(r.handleEvent=Ae(r.handleEvent.bind(r),{mechanism:{data:{function:"handleEvent",handler:K(r),target:t},handled:!0,type:"instrument"}}))}catch(t){}return e.call(this,n,Ae(r,{mechanism:{data:{function:"addEventListener",handler:K(r),target:t},handled:!0,type:"instrument"}}),o)}})),ot(n,"removeEventListener",(function(t){return function(e,n,r){var o=n;try{o=o&&(o.__sentry_wrapped__||o)}catch(t){}return t.call(this,e,o,r)}})))},t.prototype._wrapXHR=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this,o=["onload","onerror","onprogress","onreadystatechange"];return o.forEach((function(t){t in r&&"function"==typeof r[t]&&ot(r,t,(function(e){var n={mechanism:{data:{function:t,handler:K(e)},handled:!0,type:"instrument"}};return e.__sentry_original__&&(n.mechanism.data.handler=K(e.__sentry_original__)),Ae(e,n)}))})),t.apply(this,e)}},t.prototype.setupOnce=function(){this._ignoreOnError=this._ignoreOnError;var t=D();ot(t,"setTimeout",this._wrapTimeFunction.bind(this)),ot(t,"setInterval",this._wrapTimeFunction.bind(this)),ot(t,"requestAnimationFrame",this._wrapRAF.bind(this)),"XMLHttpRequest"in t&&ot(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"].forEach(this._wrapEventTarget.bind(this))},t.id="TryCatch",t}(),Be=function(){function t(e){this.name=t.id,this._options=c({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},e)}return t.prototype._consoleBreadcrumb=function(t){var e={category:"console",data:{arguments:t.args,logger:"console"},level:a.fromString(t.level),message:P(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;e.message="Assertion failed: "+(P(t.args.slice(1)," ")||"console.assert"),e.data.arguments=t.args.slice(1)}qt().addBreadcrumb(e,{input:t.args,level:t.level})},t.prototype._domBreadcrumb=function(t){var e;try{e=q(t.event.target?t.event.target:t.event)}catch(t){e="<unknown>"}0!==e.length&&qt().addBreadcrumb({category:"ui."+t.name,message:e},{event:t.event,name:t.name})},t.prototype._xhrBreadcrumb=function(t){if(t.endTimestamp){if(t.xhr.__sentry_own_request__)return;qt().addBreadcrumb({category:"xhr",data:t.xhr.__sentry_xhr__,type:"http"},{xhr:t.xhr})}else this._options.sentry&&t.xhr.__sentry_own_request__&&Me(t.args[0])},t.prototype._fetchBreadcrumb=function(t){if(t.endTimestamp){var e=qt().getClient(),n=e&&e.getDsn();if(this._options.sentry&&n){var r=new te(n).getStoreEndpoint();if(r&&-1!==t.fetchData.url.indexOf(r)&&"POST"===t.fetchData.method&&t.args[1]&&t.args[1].body)return void Me(t.args[1].body)}t.error?qt().addBreadcrumb({category:"fetch",data:c({},t.fetchData,{status_code:t.response.status}),level:a.Error,type:"http"},{data:t.error,input:t.args}):qt().addBreadcrumb({category:"fetch",data:c({},t.fetchData,{status_code:t.response.status}),type:"http"},{input:t.args,response:t.response})}},t.prototype._historyBreadcrumb=function(t){var e=D(),n=t.from,r=t.to,o=A(e.location.href),i=A(n),a=A(r);i.path||(i=o),o.protocol===a.protocol&&o.host===a.host&&(r=a.relative),o.protocol===i.protocol&&o.host===i.host&&(n=i.relative),qt().addBreadcrumb({category:"navigation",data:{from:n,to:r}})},t.prototype.setupOnce=function(){var t=this;this._options.console&&wt({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._consoleBreadcrumb.apply(t,l(e))},type:"console"}),this._options.dom&&wt({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._domBreadcrumb.apply(t,l(e))},type:"dom"}),this._options.xhr&&wt({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._xhrBreadcrumb.apply(t,l(e))},type:"xhr"}),this._options.fetch&&wt({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._fetchBreadcrumb.apply(t,l(e))},type:"fetch"}),this._options.history&&wt({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._historyBreadcrumb.apply(t,l(e))},type:"history"})},t.id="Breadcrumbs",t}();function Me(t){try{var e=JSON.parse(t);qt().addBreadcrumb({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level||a.fromString("error"),message:F(e)},{event:e})}catch(t){nt.error("Error while adding sentry type breadcrumb")}}var qe=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._key=e.key||"cause",this._limit=e.limit||5}return t.prototype.setupOnce=function(){Ft((function(e,n){var r=qt().getIntegration(t);return r?r._handler(e,n):e}))},t.prototype._handler=function(t,e){if(!(t.exception&&t.exception.values&&e&&R(e.originalException,Error)))return t;var n=this._walkErrorTree(e.originalException,this._key);return t.exception.values=l(n,t.exception.values),t},t.prototype._walkErrorTree=function(t,e,n){if(void 0===n&&(n=[]),!R(t[e],Error)||n.length+1>=this._limit)return n;var r=we(me(t[e]));return this._walkErrorTree(t[e],e,l([r],n))},t.id="LinkedErrors",t}(),Ye=D(),We=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){Ft((function(e){if(qt().getIntegration(t)){if(!Ye.navigator||!Ye.location)return e;var n=e.request||{};return n.url=n.url||Ye.location.href,n.headers=n.headers||{},n.headers["User-Agent"]=Ye.navigator.userAgent,c({},e,{request:n})}return e}))},t.id="UserAgent",t}(),Ge=[new fe,new le,new He,new Be,new Fe,new qe,new We];function Xe(t){if(void 0===t&&(t={}),void 0===t.defaultIntegrations&&(t.defaultIntegrations=Ge),void 0===t.release){var e=D();e.SENTRY_RELEASE&&e.SENTRY_RELEASE.id&&(t.release=e.SENTRY_RELEASE.id)}!function(t,e){!0===e.debug&&nt.enable();var n=qt(),r=new t(e);n.bindClient(r)}(Ne,t)}function Je(t,e){var n={};for(var r in t)n[r]=t[r];return n.target=n.currentTarget=e,n}var ze,$e=["load","loadend","timeout","error","readystatechange","abort"],Ve=$e[0],Ke=$e[1],Qe=$e[2],Ze=$e[3],tn=$e[4],en=$e[5];function nn(t){return t.watcher||(t.watcher=document.createElement("a"))}function rn(t,e){var n,r=t.getProxy(),o="on"+e+"_",i=Je({type:e},r);r[o]&&r[o](i),"function"==typeof Event?n=new Event(e,{bubbles:!1}):(n=document.createEvent("Event")).initEvent(e,!1,!0),nn(t).dispatchEvent(n)}function on(t){this.xhr=t,this.xhrProxy=t.getProxy()}function an(t){function e(t){on.call(this,t)}return(e.prototype=Object.create(on.prototype)).next=t,e}on.prototype=Object.create({resolve:function(t){var e=this.xhrProxy,n=this.xhr;e.readyState=4,n.resHeader=t.headers,e.response=e.responseText=t.response,e.statusText=t.statusText,e.status=t.status,rn(n,tn),rn(n,Ve),rn(n,Ke)},reject:function(t){this.xhrProxy.status=0,rn(this.xhr,t.type),rn(this.xhr,Ke)}});var sn=an((function(t){var e=this.xhr;for(var n in e.withCredentials=(t=t||e.config).withCredentials,e.open(t.method,t.url,!1!==t.async,t.user,t.password),t.headers)e.setRequestHeader(n,t.headers[n]);e.send(t.body)})),cn=an((function(t){this.resolve(t)})),un=an((function(t){this.reject(t)}));function ln(t){var e=t.onRequest,n=t.onResponse,r=t.onError;function o(t,e,n){var o=new un(t),i={config:t.config,error:n};r?r(i,o):o.next(i)}function i(){return!0}function a(t,e){return o(t,0,e),!0}function s(t,e){return 4===t.readyState&&0!==t.status?function(t,e){var r=new cn(t);if(!n)return r.resolve();var o={response:e.response,status:e.status,statusText:e.statusText,config:t.config,headers:t.resHeader||t.getAllResponseHeaders().split("\r\n").reduce((function(t,e){if(""===e)return t;var n=e.split(":");return t[n.shift()]=function(t){return t.replace(/^\s+|\s+$/g,"")}(n.join(":")),t}),{})};n(o,r)}(t,e):4!==t.readyState&&rn(t,tn),!0}return function(t){function e(e){return function(){var n=this.hasOwnProperty(e+"_")?this[e+"_"]:this.xhr[e],r=(t[e]||{}).getter;return r&&r(n,this)||n}}function n(e){return function(n){var r=this.xhr,o=this,i=t[e];if("on"===e.substring(0,2))o[e+"_"]=n,r[e]=function(i){i=Je(i,o),t[e]&&t[e].call(o,r,i)||n.call(o,i)};else{var a=(i||{}).setter;n=a&&a(n,o)||n,this[e+"_"]=n;try{r[e]=n}catch(t){}}}}function r(e){return function(){var n=[].slice.call(arguments);if(t[e]){var r=t[e].call(this,n,this.xhr);if(r)return r}return this.xhr[e].apply(this.xhr,n)}}return window._rxhr=window._rxhr||XMLHttpRequest,XMLHttpRequest=function(){var t=new window._rxhr;for(var o in t){var i="";try{i=typeof t[o]}catch(t){}"function"===i?this[o]=r(o):Object.defineProperty(this,o,{get:e(o),set:n(o),enumerable:!0})}var a=this;t.getProxy=function(){return a},this.xhr=t},window._rxhr}({onload:i,onloadend:i,onerror:a,ontimeout:a,onabort:a,onreadystatechange:function(t){return s(t,this)},open:function(t,n){var r=this,i=n.config={headers:{}};i.method=t[0],i.url=t[1],i.async=t[2],i.user=t[3],i.password=t[4],i.xhr=n;var a="on"+tn;n[a]||(n[a]=function(){return s(n,r)});var c=function(t){o(n,0,Je(t,r))};if([Ze,Qe,en].forEach((function(t){var e="on"+t;n[e]||(n[e]=c)})),e)return!0},send:function(t,n){var r=n.config;if(r.withCredentials=n.withCredentials,r.body=t[0],e){var o=function(){e(r,new sn(n))};return!1===r.async?o():setTimeout(o),!0}},setRequestHeader:function(t,e){return e.config.headers[t[0].toLowerCase()]=t[1],!0},addEventListener:function(t,e){var n=this;if(-1!==$e.indexOf(t[0])){var r=t[1];return nn(e).addEventListener(t[0],(function(e){var o=Je(e,n);o.type=t[0],o.isTrusted=!0,r.call(n,o)})),!0}},getAllResponseHeaders:function(t,e){var n=e.resHeader;if(n){var r="";for(var o in n)r+=o+": "+n[o]+"\r\n";return r}},getResponseHeader:function(t,e){var n=e.resHeader;if(n)return n[(t[0]||"").toLowerCase()]}})}var pn=function(e){function n(t){var n=this,r={dsn:"",version:"1.0.0",env:"",appid:"",uin:0,name:"",isAjax:!0,isError:!0,isCookies:!0,timeOut:300,filterUrls:[],apiRules:[],usedCookies:[]};Object.assign(r,t),r.filterUrls=r.filterUrls.concat(["/sockjs-node/info","arms-retcode.aliyuncs.com","aliyuncs.com","ynuf.aliapp.org","sentry.guangdianyun.tv"]),r.apiRules=r.apiRules.concat([{url:"guangdianyun.tv",rules:[{name:"code",permission:[200]},{name:"data",permission:[]},{name:"errorCode",permission:[0]},{name:"errorMessage",permission:[]}]}]),r.usedCookies=r.usedCookies.concat(["CONSOLE_TOKEN_GDY"]),(n=e.call(this,r)||this).options=r,console.log(n.options);var o="";switch(n.options.env){case"TEST":o="development";break;case"PRE":o="preview";break;case"":default:o="production"}return Xe({dsn:n.options.dsn,release:n.options.version,environment:o}),Qt({AppId:n.options.appid,Uin:n.options.uin,Name:n.options.name,Environment:o}),Kt("Uin",String(n.options.uin)),Kt("Appid",n.options.appid),n}return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}(n,e),n.getInstance=function(t){return this.singleInstance||(this.singleInstance=new n(t)),this.singleInstance},n.prototype.init=function(t){var e={dsn:"",version:"1.0.0",env:""};Object.assign(e,t);var n="";switch(e.env){case"TEST":n="development";break;case"PRE":n="preview";break;case"":default:n="production"}Xe({dsn:String(e.dsn),release:e.version,environment:n})},n.prototype.setUser=function(t,e,n,r){void 0===n&&(n=""),void 0===r&&(r="");var o="";switch(r){case"TEST":o="development";break;case"PRE":o="preview";break;case"":default:o="production"}Qt({AppId:t,Uin:e,Name:n,Environment:o})},n.prototype.api=function(t,e,n,r){void 0===r&&(r={}),$t((function(n){n.setTag("appid",t),n.setTag("uin",String(e))})),Kt("Uin",String(e)),Kt("Appid",t),Vt("data",r),Jt(new Error("API 手动捕捉 "+n))},n.prototype.info=function(t,e,n,r){void 0===n&&(n="Info"),void 0===r&&(r={}),$t((function(n){n.setTag("appid",t),n.setTag("uin",String(e))})),Kt("Uin",String(e)),Kt("Appid",t),Vt("data",r),zt(n)},n.prototype.error=function(t,e,n,r){void 0===n&&(n="New Error"),void 0===r&&(r={}),$t((function(n){n.setTag("appid",t),n.setTag("uin",String(e))})),Kt("Uin",String(e)),Kt("Appid",t),Vt("data",r),Jt(new Error(n))},n.singleInstance=null,n}(function(){function t(t){this._options=t,this._options.isAjax&&(this._ajax(),this._fetch()),this._options.isError&&this._error(),this._privacy()}return t.prototype._ajax=function(){var t=this;!function(t){if(ze)throw"Proxy already exists";ze=new ln(t)}({onRequest:function(t,e){e.next(t)},onError:function(e,n){t._checkUrlLegal(e.config.url)&&(console.log("API 错误被捕捉",e.config.url),t._reportFactory("error","API 错误被捕捉","Error",e)),n.reject(e)},onResponse:function(e,n){t._checkUrlLegal(e.config.url)&&(t._checkXhrRules(e)&&(console.log("API 不符合规则被捕捉",e.config.url),t._reportFactory("error","API 不符合规则被捕捉","Response",e)));n.next(e)}})},t.prototype._fetch=function(){var t=this,o=function(e){return n(t,void 0,void 0,(function(){var t,n,o;return r(this,(function(r){return e.body?(t=this,n=e.body.getReader(),o=new ReadableStream({start:function(r){!function o(){n.read().then((function(n){var i=n.done,a=n.value,s=new TextDecoder("utf-8").decode(a);if(i)r.close();else{if(t._checkUrlLegal(e.url))try{var c=a?JSON.parse(s):{};t._checkFetchRules(e,c)&&(console.log("API 不符合规则被捕捉",e.url),t._reportFactory("error","API 不符合规则被捕捉","Response",e))}catch(n){console.log("API 不符合规则被捕捉",e.url),t._reportFactory("error","API 不符合规则被捕捉","Response",e)}r.enqueue(a),o()}}))}()}}),[2,new Response(o,{headers:e.headers})]):[2,e]}))}))},i=fetch;Object.defineProperty(window,"fetch",{configurable:!0,enumerable:!0,get:function(){return function(t,n){return i(t,e({},n)).then(o)}},set:function(){}})},t.prototype._error=function(){var t=this;window.addEventListener("error",(function(e){var n={t:(new Date).getTime(),msg:e.target.localName+" is load error",target:e.target.localName,type:e.type,resourceUrl:e.target.href||e.target.currentSrc};t._reportFactory("error","资源加载错误","Stack",n)}),!0),window.onerror=function(e,n,r,o,i){setTimeout((function(){o=o||0;var a={t:(new Date).getTime(),msg:i&&i.stack?i.stack.toString():e,resourceUrl:n,line:r,col:o};t._reportFactory("error","脚本错误","Stack",a)}),0)},window.addEventListener("unhandledrejection",(function(e){var n,r,o,i=e&&e.reason,a=i.hasOwnProperty("message")?i.message:"",s=(i.stack||"").match(/\(.+?\)/);s&&s.length&&(s=(s=(s=s[0]).replace(/\w.+[js|html]/g,(function(t){return n=t,""}))).split(":")),s&&s.length>1&&(o=parseInt(s[1]||0,10)),s&&s.length>2&&(r=parseInt(s[2]||0,10));var c={t:(new Date).getTime(),msg:a,resourceUrl:n,line:r,col:o};t._reportFactory("error","异步未处理的错误","Stack",c)}));var e=this,n=console.error;console.error=function(t){return setTimeout((function(){var n={t:(new Date).getTime(),msg:t,resourceUrl:location.href};e._reportFactory("error","控制台错误提示","Stack",n)}),0),n.apply(console,arguments)}},t.prototype._privacy=function(){if(this._options.usedCookies){var t=this._options.usedCookies.map((function(t){var e,n=new RegExp("(^| )"+t+"=([^;]*)(;|$)"),r=document.cookie.match(n);return(e={})[t]=r?r[2]:"",e}));this._reportFactory("info","Cookies 记录","Cookies",t)}},t.prototype._checkXhrRules=function(t){var e=this._options.apiRules.filter((function(e){return t.config.url.includes(e.url)}));if(!e)return console.log("当前缺少匹配的规则"),!1;e.length>1&&console.log("API 规则定义重复, 将取最先定义项作为规则");var n=e[0].rules?e[0].rules:null;if(!n||!Array.isArray(n))return!1;if(t.status<200||t.status>=400)return!0;var r=new Map(n.map((function(t){return[t.name,t.permission]}))),o=JSON.parse(t.response);return!!Object.keys(o).map((function(t){if(r.has(t)){var e=r.get(t);return!(!e||0!==e.length)||!!(e&&e.indexOf(o[t])>=0)}})).some((function(t){return!1===t}))},t.prototype._checkUrlLegal=function(t){return 0===this._options.filterUrls.length||!this._options.filterUrls.some((function(e){return t.includes(e)}))},t.prototype._checkFetchRules=function(t,e){if(void 0===e&&(e={}),0===Object.keys(e).length)return!1;if(t.url.includes("sentry_key"))return!1;var n=this._options.apiRules.filter((function(e){return t.url.includes(e.url)}));if(!n)return console.log("当前缺少匹配的规则"),!1;n.length>1&&console.log("API 规则定义重复, 将取最先定义项作为规则");var r=n[0].rules?n[0].rules:null;if(!r||!Array.isArray(r))return!1;if(t.status<200||t.status>=400)return!0;var o=new Map(r.map((function(t){return[t.name,t.permission]})));return!!Object.keys(e).map((function(t){if(o.has(t)){var n=o.get(t);return!(!n||0!==n.length)||!!(n&&n.indexOf(e[t])>=0)}})).some((function(t){return!1===t}))},t.prototype._reportFactory=function(t,e,n,r){void 0===e&&(e=""),void 0===n&&(n=""),void 0===r&&(r={}),setTimeout((function(){Vt(n,r),"error"===t?Jt(new Error(e)):zt(e)}),this._options.timeOut)},t}());return function(t){return pn.getInstance(t)}}();
